{"version":3,"file":"modal-CJYPKaIi.js","sources":["../../src/js/header.js","../../src/js/modal.js"],"sourcesContent":["// 1. Sayfa yüklendiğinde localStorage'dan tema tercihini uygula\ndocument.addEventListener('DOMContentLoaded', () => {\n  const savedTheme = localStorage.getItem('theme');\n  if (savedTheme === 'dark') {\n    document.body.classList.add('dark-theme');\n  }\n});\n\n// 2. Gerekli class ve ID'leri tanımla\nconst headerClassAndIdList = {\n  menuToggleClass: '.menu-toggle',\n  mobileMenuId: 'mobileMenu',\n  mobileOverlayId: 'mobileOverlay',\n};\n\nconst { menuToggleClass, mobileMenuId, mobileOverlayId } = headerClassAndIdList;\n\nconst menuToggle = document.querySelector(menuToggleClass);\nconst mobileMenu = document.getElementById(mobileMenuId);\nconst mobileOverlay = document.getElementById(mobileOverlayId);\n\n// 3. Menü toggle butonuna tıklanınca mobil menüyü aç/kapat\nmenuToggle.addEventListener('click', () => {\n  mobileMenu.classList.toggle('open');\n  mobileOverlay.classList.toggle('active');\n});\n\n// 4. Tema geçiş butonu işlemleri\nconst themeSwitcher = document.getElementById('theme-switcher');\nconst body = document.body;\n\nthemeSwitcher.addEventListener('click', () => {\n  body.classList.toggle('dark-theme');\n\n  const isDark = body.classList.contains('dark-theme');\n  localStorage.setItem('theme', isDark ? 'dark' : 'light');\n});\n\n// 5. Menü dışına tıklanırsa menüyü kapat\ndocument.addEventListener('click', (e) => {\n  const isClickInsideMenu = mobileMenu.contains(e.target);\n  const isClickOnButton = menuToggle.contains(e.target);\n\n  if (!isClickInsideMenu && !isClickOnButton) {\n    mobileMenu.classList.remove('open');\n    mobileOverlay.classList.remove('active');\n  }\n});\n","import * as basicLightbox from 'basiclightbox';\nimport 'basiclightbox/dist/basicLightbox.min.css';\n\nconst modalUi = movie => {\n  const instance = basicLightbox.create(`\n            <form id=\"movie-form\">\n            <p class=\"close\">&#10006;</p>\n              <img src=\"https://image.tmdb.org/t/p/w500/${\n                movie.poster_path\n              }\" alt=\"${movie.title}\">\n              <div>\n                <h2>${movie.title.toUpperCase()}</h2>\n                <table>\n                    <thead>\n                        <tr>\n                            <th>Vote/Votes</th>\n                            <td><span class=\"vote\">${Math.round(movie.vote_average)}</span> / <span class=\"vote\">${movie.vote_count}</span></td>\n                        </tr>\n                        \n                    </thead>\n                    <tbody>\n                        <tr>\n                            <th>Popularity</th>\n                            <td>${movie.popularity}</td>\n                        </tr>\n                        <tr>\n                            <th>Genre</th>\n                            <td>${movie.genres\n                              .map(genre => genre.name)\n                              .join(' ')}</td>\n                        </tr>\n                    </tbody>\n                </table>\n              <h3>ABOUT</h3>\n              <p class=\"modal-info\">${movie.overview}</p>\n              <button class=\"movie-submit\" type=\"submit\">Add to my library</button>\n              </div>\n            </form>\n          `);\n  instance.show();\n  const closeButton = document.querySelector('.close');\n  closeButton.addEventListener('click', () => {\n    instance.close();\n  });\n  document.addEventListener('keyup', function (e) {\n    if (e.code === 'Escape') {\n      instance.close();\n    }\n  });\n  const movieForm = document.getElementById('movie-form');\n  const movieSubmit = document.querySelector('.movie-submit');\n\n  let movies = getLocalStorage();\n\n  if (movies.some(m => m.id === movie.id)) {\n    movieSubmit.textContent = 'Remove from my library';\n  } else {\n    movieSubmit.textContent = 'Add to my library';\n  }\n\n  movieForm.addEventListener('submit', e => {\n    e.preventDefault();\n    movies = getLocalStorage();\n\n    if (movieSubmit.textContent === 'Remove from my library') {\n      const movies = getLocalStorage();\n      const updatedMovies = movies.filter(m => m.id !== movie.id);\n      localStorage.setItem('movies', JSON.stringify(updatedMovies));\n      movieSubmit.textContent = 'Add to my library';\n      return;\n    }\n    const movieData = {\n      id: movie.id,\n      title: movie.title,\n      poster_path: movie.poster_path,\n      overview: movie.overview,\n      vote_average: movie.vote_average,\n      vote_count: movie.vote_count,\n      popularity: movie.popularity,\n      genres: movie.genres.map(genre => genre.name).join(','),\n    };\n\n    movies.push(movieData);\n    localStorage.setItem('movies', JSON.stringify(movies));\n    movieSubmit.textContent = 'Remove from my library';\n  });\n};\nfunction getLocalStorage() {\n  let movies;\n  if (localStorage.getItem('movies') === null) {\n    movies = [];\n  } else {\n    movies = JSON.parse(localStorage.getItem('movies'));\n  }\n  return movies;\n}\nexport default modalUi;\n"],"names":["headerClassAndIdList","menuToggleClass","mobileMenuId","mobileOverlayId","menuToggle","mobileMenu","mobileOverlay","themeSwitcher","body","isDark","isClickInsideMenu","isClickOnButton","modalUi","movie","instance","basicLightbox.create","genre","e","movieForm","movieSubmit","movies","getLocalStorage","m","updatedMovies","movieData"],"mappings":"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"}