{"version":3,"file":"index.js","sources":["../src/js/herocard.js","../src/js/hero.js"],"sourcesContent":["import modalUi from './modal.js';\n\nconst API_KEY = '4e64f2e0a197aa7c5d1170773553320c';\n\nasync function openHeroCard(movieId) {\n  try {\n    const res = await fetch(`https://api.themoviedb.org/3/movie/${movieId}?api_key=${API_KEY}&language=en-US`);\n    const movie = await res.json();\n\n    const creditsRes = await fetch(`https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=${API_KEY}`);\n    const creditsData = await creditsRes.json();\n\n    const directorObj = creditsData.crew.find(p => p.job === 'Director');\n    const director = directorObj ? directorObj.name : 'Unknown';\n\n    movie.director = director;\n    movie.release_year = movie.release_date ? movie.release_date.slice(0, 4) : 'N/A';\n    movie.runtime = movie.runtime ? `${movie.runtime} min` : 'N/A';\n    movie.language = movie.original_language.toUpperCase();\n\n    modalUi(movie);\n\n\n\n    // \"Add to my library\" butonunu kaldır \nsetTimeout(() => {\n  const addButton = document.querySelector('.movie-submit');\n  if (addButton) addButton.remove();\n}, 100);\n\n//\"Add to my library\" butonu eklenmek istenirse setTimeout fonksiyonun eklenmesi yeterlidir.\n\n\n    // Modal'ı ortalamak için CSS class ekle\n    setTimeout(() => {\n      const modal = document.querySelector('.basicLightbox__placeholder > *');\n      if (modal) modal.classList.add('custom-herocard');\n    }, 50);\n\n    // Arka plana tıklayınca kapanması\n    const backdrop = document.querySelector('.basicLightbox');\n    backdrop.addEventListener('click', e => {\n      if (e.target.classList.contains('basicLightbox')) {\n        backdrop.remove();\n      }\n    });\n\n  } catch (err) {\n    console.error(\"Detaylar alınırken hata:\", err);\n    alert(\"Film detayları yüklenemedi.\");\n  }\n}\n\nexport default openHeroCard;","import modalUi from './modal.js';\nimport openHeroCard from './herocard.js';\n\n\nconst API_KEY = '4e64f2e0a197aa7c5d1170773553320c';\n\nconst carousel = document.getElementById('carousel');\nconst prevBtn = document.getElementById('prev-btn');\nconst nextBtn = document.getElementById('next-btn');\n\nconst detailsModal = document.getElementById('details-modal');\nconst trailerModal = document.getElementById('trailer-modal');\nconst detailsContainer = document.getElementById('details-container');\nconst trailerContainer = document.getElementById('trailer-container');\nconst closeDetails = document.getElementById('close-details');\nconst closeTrailer = document.getElementById('close-trailer');\n\nasync function loadTrendingMovies() {\n  try {\n    const res = await fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=${API_KEY}`);\n    const data = await res.json();\n\n    if (!data.results || data.results.length === 0) {\n      showDefaultSlide();\n      return;\n    }\n\n    // Her film için bir slayt oluştur\n    data.results.forEach(film => {\n      const slide = document.createElement('div');\n      slide.className = 'hero-slide';\n      slide.style.backgroundImage = `url(https://image.tmdb.org/t/p/original/${film.backdrop_path})`;\n\n\n\n      slide.innerHTML = `\n        <div class=\"hero-overlay\"></div>\n        <div class=\"hero-content\">\n          <h1>${film.title}</h1>\n          <p>${film.overview.slice(0, 200)}...</p>\n          <p>IMDb: ${film.vote_average}</p>\n          <button onclick='openDetailsModal(${JSON.stringify(film).replace(/'/g, \"\\\\'\")})'>More Details</button>\n          <button onclick='openTrailerModal(${film.id})'>Watch Trailer</button>\n        </div>\n      `;\n\n      \n\n      carousel.appendChild(slide);\n    });\n\n  } catch (err) {\n    console.error('Hata:', err);\n    showDefaultSlide();\n  }\n}\n\n\n\n\n\n\n\n\nfunction showDefaultSlide() {\n  const slide = document.createElement('div');\n  slide.className = 'hero-slide';\n  slide.style.backgroundImage = `url('default-hero.jpg')`;\n  slide.innerHTML = `\n    <div class=\"hero-overlay\"></div>\n    <div class=\"hero-content\">\n      <h1>Welcome to Cinemania</h1>\n      <p>Explore timeless stories and epic moments from world cinema.</p>\n      <button onclick=\"window.location.href='catalog.html'\">Get Started</button>\n    </div>\n  `;\n  carousel.appendChild(slide);\n}\n\n// Butonlarla kaydırma\nprevBtn.addEventListener('click', () => {\n  carousel.scrollBy({ left: -window.innerWidth, behavior: 'smooth' });\n});\n\nnextBtn.addEventListener('click', () => {\n  carousel.scrollBy({ left: window.innerWidth, behavior: 'smooth' });\n});\n\n\n\n// Modallar\nfunction openDetailsModal(film) {\n  openHeroCard(film.id);\n}\n\n\n\n\n\nasync function openTrailerModal(filmId) {\n  try {\n    const res = await fetch(`https://api.themoviedb.org/3/movie/${filmId}/videos?api_key=${API_KEY}&language=en-US`);\n    const data = await res.json();\n\n    const trailer = data.results.find(v => v.type === \"Trailer\" && v.site === \"YouTube\");\n\n    if (!trailer) {\n      trailerContainer.innerHTML = `<p>Sorry, no trailer available.</p>`;\n    } else {\n      trailerContainer.innerHTML = `\n        <iframe width=\"100%\" height=\"400\" src=\"https://www.youtube.com/embed/${trailer.key}\" frameborder=\"0\" allowfullscreen></iframe>\n      `;\n    }\n\n    trailerModal.classList.remove('hidden');\n  } catch (err) {\n    trailerContainer.innerHTML = `<p>Error loading trailer.</p>`;\n    trailerModal.classList.remove('hidden');\n  }\n}\n\n// Modal kapama\ncloseDetails.onclick = () => detailsModal.classList.add('hidden');\ncloseTrailer.onclick = () => trailerModal.classList.add('hidden');\n\n// Sayfa yüklenince başla\ndocument.addEventListener('DOMContentLoaded', loadTrendingMovies);\n\nwindow.openDetailsModal = openDetailsModal;\nwindow.openTrailerModal= openTrailerModal;\n\n"],"names":["API_KEY","openHeroCard","movieId","movie","directorObj","p","director","modalUi","addButton","modal","backdrop","e","err","carousel","prevBtn","nextBtn","detailsModal","trailerModal","trailerContainer","closeDetails","closeTrailer","loadTrendingMovies","data","showDefaultSlide","film","slide","openDetailsModal","openTrailerModal","filmId","trailer","v"],"mappings":"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"}